# [Platinum V] 제21대 국회의원 선거 - 18891 

[문제 링크](https://www.acmicpc.net/problem/18891) 

### 성능 요약

메모리: 2036 KB, 시간: 0 ms

### 분류

구현(implementation)

### 문제 설명

<p>정당들의 지역구 의석 수와 비례대표 득표 결과가 각각 주어질 때, 각 정당이 21대 국회의원 선거 결과에 따라 얻게 되는 총 의석 수를 각각 계산해 보자. 의원정수는 <strong>300명</strong>이며 지역구국회의원이 <strong>253명</strong>, 비례대표국회의원이 <strong>47명</strong>이다.</p>

<p>비례대표 의석은 비례대표국회의원선거 유효투표총수의 3% 이상을 득표했거나 지역구국회의원선거에서 5석 이상의 의석을 차지한 정당에만 배분된다(봉쇄조항). 비례대표 의석을 배분받는 정당을 <b>의석할당정당</b>이라 한다. 제21대 국회의원 선거에 한해, 비례대표 의석 배분 방식은 다음과 같다.</p>

<hr>
<p><u><strong>(1단계) </strong>30석에 대해 전국단위 준연동(연동비율 50%) 방식으로 각 정당별 연동배분의석수 산정</u></p>

<p>의석할당정당이 비례대표국회의원선거에서 얻은 득표비율에 따라 산정한 의석수에서 해당 정당의 지역구국회의원 당선인 수를 뺀 후, 그 수의 50%에 이를 때까지 해당 정당에 비례대표 국회의원 의석을 먼저 배분한다.</p>

<p style="text-align: center;">\[\frac{\left(N-R\right)\times p_i - r_i}{2}\]</p>

<p style="text-align: center;">(\(N\): 국회의원 정수, \(R\): 의석할당정당이 <u>아닌</u> 정당의 지역구 당선인 수 총합 + 무소속 지역구 당선인 수, \(p_i\): 해당 정당의 비례대표국회의원선거 득표비율, \(r_i\): 해당 정당의 지역구국회의원 당선인 수)</p>

<p>\(p_i\)는 전체 유효표에 대한 득표비율이 아니고, <strong>의석할당정당</strong>의 득표수를 모든 <strong>의석할당정당</strong>의 득표수의 합계로 나누어 다시 산출됨에 주의한다.</p>

<p>결과값은 1보다 작을 경우 0이며, 이외의 경우 소수점 첫째 자리에서 반올림한다. 이렇게 계산된 정수를 <strong>연동 배분 의석 수</strong> \(s_i^\prime\)이라 한다.</p>

<p>\(s_i\)의 합이 30인 경우 이 의석 수를 47석 중 30석에 대한 해당 정당의 비례대표 의석 수(\(s_i\))로 확정한다.</p>

<hr>
<p><u><strong>(2-1단계) </strong>각 정당별 연동배분의석수의 합계 < 30석일 경우 ☞ 잔여의석에 대해 기존 의석배분방식(병립형) 적용 배분</u></p>

<p>1단계에서 배분한 의석의 합이 30석을 넘지 못하여 잔여의석이 생기면, 잔여의석은 비례대표국회의원선거의 득표비율에 따라 산정한 의석을 배분한다.</p>

<p style="text-align: center;">\[s_i^\prime + \left(30-\sum s^\prime \right) \times p_i\]</p>

<p style="text-align: center;">(\(p_i\): 해당 정당의 비례대표국회의원선거 득표비율)</p>

<p>계산된 값의 정수 부분을 먼저 배분하고, 나머지는 총 연동배분의석수가 30석이 될 때까지 소수점 이하의 수가 큰 순서대로 배분한다. 이렇게 배분이 끝난 각 정당의 의석 수를 <strong>47석 중 30석에 대한 조정된 비례대표 의석 수</strong> \(s_i\)라 한다.</p>

<hr>
<p><u><strong>(2-2단계)</strong> 각 정당별 연동배분의석수의 합계 > 30석 ☞ 각 정당별 연동배분의석수비율대로 배분</u></p>

<p>1단계에서 배분한 의석의 합이 30석을 넘어 초과의석이 생기면, 각 정당별 연동배분의석수비율대로 다시 배분한다.</p>

<p style="text-align: center;">\[\frac{30 \times s_i^\prime}{\sum s^\prime}\]</p>

<p>계산된 값의 정수 부분을 먼저 배분하고, 나머지는 총 연동배분의석수가 30석이 될 때까지 소수점 이하의 수가 큰 순서대로 배분한다. 이렇게 배분이 끝난 각 정당의 의석 수를 <strong>47석 중 30석에 대한 조정된 비례대표 의석 수</strong> \(s_i\)라 한다.</p>

<hr>
<p><u><strong>(3단계) </strong>17석에 대해 기존 의석배분방식(병립형) 적용 배분</u></p>

<p>나머지 17석에 대해 비례대표국회의원선거의 득표비율에 따라 산정한 의석을 배분한다.</p>

<p style="text-align: center;">\[17 \times p_i\]</p>

<p style="text-align: center;">(\(p_i\): 해당 정당의 비례대표국회의원선거 득표비율)</p>

<p>계산된 값의 정수 부분을 먼저 배분하고, 나머지는 총 연동배분의석수가 17석이 될 때까지 소수점 이하의 수가 큰 순서대로 배분한다. 이렇게 배분이 끝난 각 정당의 의석 수를 <strong>47석 중 17석에 대한 비례대표 의석 수</strong> \(t_i\)라 한다.</p>

<hr>
<p>최종적으로 정당 \(i\)의 비례의석은 \(s_i + t_i\)석이며, 지역구의석 수 \(r_i\)와 합치면 해당 정당이 21대 국회에서 얻는 총 의석 수는 \(s_i+t_i+r_i\)가 된다.</p>

### 입력 

 <p>첫째 줄에는 선거에 후보를 낸 정당의 수 \(P\)와 총 투표자 수 \(V\)가 주어진다. (\(1 \leq P \leq 50\)), (\(1 \leq V \leq 10^9\))</p>

<p>다음 \(P\)개의 줄에는 각 정당의 정당명과 지역구 의석 수, 비례대표국회의원선거 득표수가 주어진다. 정당명은 최대 50글자의 알파벳 소문자와 언더스코어(<code>_</code>)로 이루어져 있으며, 중복되지 않는다.</p>

<p>지역구 의석 수의 합은 253석을 넘지 않으며 비례대표국회의원선거 득표수의 합은 \(V\)를 넘지 않는다.</p>

### 출력 

 <p>정당별로 21대 국회에서 얻은 의석 수를 의석 수를 기준으로 내림차순으로 정렬해, 정당명과 함께 출력한다. 의석 수가 같을 경우 정당명이 사전순으로 앞서는 정당을 먼저 출력한다.</p>

