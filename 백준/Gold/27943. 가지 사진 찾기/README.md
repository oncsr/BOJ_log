# [Gold V] 가지 사진 찾기 - 27943 

[문제 링크](https://www.acmicpc.net/problem/27943) 

### 성능 요약

메모리: 30360 KB, 시간: 12 ms

### 분류

이분 탐색

### 문제 설명

<p>이 문제는 <strong>인터랙티브</strong> 문제이다.</p>

<p>가지 나라의 연구소에는 매우 큰 데이터베이스가 있다. 이 데이터베이스에는 매년 전국에서 인터넷에 업로드된 사진이 모두 들어간다. 모인 사진에는 온갖 종류의 사물이 담겨 있지만, 각 사진에 찍힌 사물은 유일하다. 사진이 계속 올라오는 한 해 동안은 사진이 정렬되어 있지 않지만, 그해가 끝나면 모았던 사진들을 예쁘게 배열해서 <strong>같은 종류의 사물을 찍은 사진들에 연속된 번호를 부여한다</strong>. 예를 들어, 데이터베이스가 거의 사용되지 않았던 2020년도에는 애벌레 사진이 1번부터 2번까지를, 텐트 사진이 3번부터 5번까지를, 축구공 사진이 6번을, 그리고 가지 사진이 7번부터 22번까지의 번호를 받았고, 이 22개 사진이 현재 업로드된 2020년도 사진의 전부라고 한다.</p>

<p>데이터과학자 와파스는 작년 2022년에 올라온 가지 사진을 다운로드받기 위해 데이터베이스를 이용하려고 한다. 사전에 접한 정보에 따르면, 2022년에도 어김없이 업로드된 사진 중에 <strong>가지 사진의 비율은 절반이 넘는다고 한다.</strong> 사진이 엄청나게 많으니 제발 필요한 데이터만 효율적으로 다운로드하라고 잔소리를 듣는 와파스를 위해, 데이터베이스에서 가지 사진의 번호가 몇 번부터 몇 번까지인지 대신 구해주자.</p>

### 입력 

 <p>첫 줄에 2022년도 사진의 총 개수 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$n$</span></mjx-container> <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.393em;"><mjx-texatom size="s" texclass="ORD"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c38"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>3</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mn>18</mn></mrow></msup><mo stretchy="false">)</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$(3\le n \le 10^{18})$</span></mjx-container>이 주어진다.</p>

### 출력 

 <p>당신은 총 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>120</mn></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$120$</span></mjx-container>번까지, 특정 번호의 사진이 어느 사물을 담고 있는지 질문할 수 있다. 번호 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$x$</span></mjx-container>는 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>≤</mo><mi>x</mi><mo>≤</mo><mi>n</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$1 \le x \le n$</span></mjx-container>을 만족해야 하며, 질문은 <span style="color:#e74c3c;"><code>? x</code></span>와 줄바꿈을 출력하는 것으로 가능하다. 질문의 답변은 사진에 담긴 물건의 이름을 의미하는 문자열 한 줄로 주어진다. 이름은 영문 알파벳 소문자 <span style="color:#e74c3c;"><code>a</code></span>-<span style="color:#e74c3c;"><code>z</code></span>와 숫자 <span style="color:#e74c3c;"><code>0</code></span>-<span style="color:#e74c3c;"><code>9</code></span>로만 구성되어 있으며, 이름의 길이는 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$1$</span></mjx-container> 이상 <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$20$</span></mjx-container> 이하이다. 가지를 가리키는 이름은 미리 알 수 없으며, 질문을 통해 알아내야 한다.</p>

<p>충분한 질문 끝에 가지 사진 번호의 범위를 알아냈다면, <span style="color:#e74c3c;"><code>! a b</code></span>의 형식으로 답을 출력하고, 줄 바꿈을 출력한 후 종료한다. <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$a$</span></mjx-container>는 가지 사진의 번호 중 최솟값, <mjx-container class="MathJax" jax="CHTML" style="font-size: 109%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext">$b$</span></mjx-container>는 최댓값이다.</p>

<p>모든 출력 뒤에 출력 버퍼를 비우지 않거나, 올바르지 않은 답을 출력하거나, 출력 형식을 어길 경우 예상하지 못한 채점 결과를 받을 수 있다.</p>

